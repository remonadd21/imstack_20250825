# project001_board mvc2

> mvc1 VS mvc2

1) 구성방식
- mvc1 :jsp가 model, view, controller 역할을 모두 수행
- mvc2 :     model(java), view(jsp), controller(서블릿) 분리

2) 유지보수성 
- mvc1:낮음( jsp에 로직이 포함되어 재사용이 어려움 ) - 간단한 웹
- mvc2:높음( model, controller의 재사용) - 대규모

> mvc2 
    1) java, servlet
    2) response
    3) board 

----------------------------------------------------------------
DTO, DAO 설계
----------------------------------------------------------------

	1. 글쓰기 sql
-----------------------------------------------------------------

  	insert into post (id, app_user_id, title, content, pass)
 	values(post_seq.nextval,?,?,?,? );
 	
 	
 	insert into post (id, app_user_id, title, content, pass)
 	values(post_seq.nextval,1,'멋지 우리회사','최고다!','1111111');
 	
---
    public int insert(postDto dto){
        int result=-1;
        // 드커프리
        return result;
    }

 	
-----------------------------------------------------------------	
	*(post_seq.nextval (자동순서))
-----------------------------------------------------------------
  	2. 전체글 가져오기, appuser 테이블에서 email도 가져오기 
-----------------------------------------------------------------

	select p.* , u.email from post p join appuser u on(p.app_user_id = u.app_user_id);

---
    public ArrayList<PostDto dto> selectALL(){
         ArrayList<PostDto dto> result = new ArrayList<>();
         // 드커프리
         return result;
    }
	
-----------------------------------------------------------------
	3. 글 번호 해당하는 글 가져오기 sql
-----------------------------------------------------------------

	select * from post where id=?
	update post set hit = hit +1 where id=?
	
	select * from post where id=1;
	update post set hit = hit +1 where id=1;

---
public postDto select(int id){
    PostDto result = new PostDto();
    // 드커프리
    return result;
}


public int update(int id){
    int result = -1;
    // 드커프리
    return resul;
}
	
-----------------------------------------------------------------
	4. 글 수정하기 sql
-----------------------------------------------------------------

	update post set title=?, content=? where id=? and pass=?
	
	update post set title='d2big', content='최고의 회사 d2big' 
	where id=1 and pass='1111111';

---

public int update_hit(PostDto dto){
    int result = -1;
    // 드커프리
    return resul;
}
	
-----------------------------------------------------------------	
	5. 글 삭제하기
-----------------------------------------------------------------

	delete from post where id=? and pass=?
	
	delete from post where id=1 and pass='1111111';


---
public int delete(PostDto dto){
    int result = -1;
    // 드커프리
    return result;
}